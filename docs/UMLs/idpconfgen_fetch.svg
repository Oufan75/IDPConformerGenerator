<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="685px" preserveAspectRatio="none" style="width:819px;height:685px;" version="1.1" viewBox="0 0 819 685" width="819px" zoomAndPan="magnify"><defs><filter height="300%" id="f19x77ub0wexcb" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><ellipse cx="253" cy="20" fill="#000000" filter="url(#f19x77ub0wexcb)" rx="10" ry="10" style="stroke: none; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f19x77ub0wexcb)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="126" x="190" y="50"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="70" x="200" y="71.1387">idpconfgen</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="32" x="274" y="71.1387">fetch</text><rect fill="#D3D3D3" filter="url(#f19x77ub0wexcb)" height="145.5313" style="stroke: #000000; stroke-width: 2.0;" width="798.5" x="10" y="94.7705"/><path d="M86,95.7705 L86,104.0674 L76,114.0674 L10,114.0674 " fill="none" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="66" x="13" y="108.7656">Examples</text><path d="M417.5,130.9189 L417.5,147.0518 L397.5,151.0518 L417.5,155.0518 L417.5,171.1846 A0,0 0 0 0 417.5,171.1846 L798.5,171.1846 A0,0 0 0 0 798.5,171.1846 L798.5,140.9189 L788.5,130.9189 L417.5,130.9189 A0,0 0 0 0 417.5,130.9189 " fill="#FBFB77" filter="url(#f19x77ub0wexcb)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M788.5,130.9189 L788.5,140.9189 L798.5,140.9189 L788.5,130.9189 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="38" x="423.5" y="147.9858">where</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="59" x="465.5" y="147.9858">culled.list</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="255" x="528.5" y="147.9858">is a list containing PDBID[CHAIN] codes,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="24" x="423.5" y="163.1187">and</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="36" x="451.5" y="163.1187">folder</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="262" x="491.5" y="163.1187">is a destination folder that may not exist.</text><rect fill="#FFFFFF" filter="url(#f19x77ub0wexcb)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="289" x="108.5" y="134.0674"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="269" x="118.5" y="155.2061">$ idpconfgen fetch culled.list -d folder -u -n</text><path d="M506,188.0361 L506,204.1689 L486,208.1689 L506,212.1689 L506,228.3018 A0,0 0 0 0 506,228.3018 L723,228.3018 A0,0 0 0 0 723,228.3018 L723,198.0361 L713,188.0361 L506,188.0361 A0,0 0 0 0 506,188.0361 " fill="#FBFB77" filter="url(#f19x77ub0wexcb)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M713,188.0361 L713,198.0361 L723,198.0361 L713,188.0361 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="38" x="512" y="205.103">where</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="53" x="554" y="205.103">pdbs.tar</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="97" x="611" y="205.103">is a destination</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="44" x="512" y="220.2358">tar file.</text><rect fill="#FFFFFF" filter="url(#f19x77ub0wexcb)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="466" x="20" y="191.1846"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="446" x="30" y="212.3232">$ idpconfgen fetch 12AS 4YBB culled.list -d pdbs.tar -u -n -chunks 5000</text><rect fill="#FEFECE" filter="url(#f19x77ub0wexcb)" height="75.875" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="243" x="131.5" y="260.3018"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="221" x="141.5" y="281.4404">Compares to destination folder/file,</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="147" x="141.5" y="295.4092">filters out existent files,</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="107" x="141.5" y="309.3779">conflictive cases,</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="223" x="141.5" y="323.3467">and downloads only missing entries</text><path d="M484.5,390.8135 L484.5,476.4775 L793.5,476.4775 L793.5,400.8135 L783.5,390.8135 L484.5,390.8135 " fill="#FBFB77" filter="url(#f19x77ub0wexcb)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M783.5,390.8135 L783.5,400.8135 L793.5,400.8135 L783.5,390.8135 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="203" x="490.5" y="407.8804">This block is performed for each</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="218" x="490.5" y="423.0132">PDB file. In multiprocessing mode,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="288" x="490.5" y="438.146">each core pick a PDB code and run the whole</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="271" x="490.5" y="453.2788">block, once it is finished another PDB code</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="59" x="490.5" y="468.4116">is picked.</text><rect fill="#000000" filter="url(#f19x77ub0wexcb)" height="6" rx="2.5" ry="2.5" style="stroke: #000000; stroke-width: 1.0;" width="423" x="41.5" y="356.1768"/><path d="M55.5,379.0283 L55.5,419.2939 A0,0 0 0 0 55.5,419.2939 L253.5,419.2939 A0,0 0 0 0 253.5,419.2939 L253.5,403.1611 L273.5,399.1611 L253.5,395.1611 L253.5,389.0283 L243.5,379.0283 L55.5,379.0283 A0,0 0 0 0 55.5,379.0283 " fill="#FBFB77" filter="url(#f19x77ub0wexcb)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M243.5,379.0283 L243.5,389.0283 L253.5,389.0283 L243.5,379.0283 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="176" x="61.5" y="396.0952">Attempts to download PDB,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="177" x="61.5" y="411.228">if unavailable, attempts CIF.</text><rect fill="#FEFECE" filter="url(#f19x77ub0wexcb)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="177" x="273.5" y="382.1768"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="157" x="283.5" y="403.3154">downloads PDB or mmCIF</text><rect fill="#FEFECE" filter="url(#f19x77ub0wexcb)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="137" x="293.5" y="454.2939"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="117" x="303.5" y="475.4326">saves file raw data</text><rect fill="#000000" filter="url(#f19x77ub0wexcb)" height="6" rx="2.5" ry="2.5" style="stroke: #000000; stroke-width: 1.0;" width="423" x="41.5" y="508.2627"/><path d="M444.25,563.1143 L444.25,603.3799 L671.25,603.3799 L671.25,573.1143 L661.25,563.1143 L444.25,563.1143 " fill="#FBFB77" filter="url(#f19x77ub0wexcb)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M661.25,563.1143 L661.25,573.1143 L671.25,573.1143 L661.25,563.1143 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="206" x="450.25" y="580.1812">Files are saved after each chunk</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="86" x="450.25" y="595.314">is completed.</text><polygon fill="#FEFECE" filter="url(#f19x77ub0wexcb)" points="208,534.2627,298,534.2627,310,546.2627,298,558.2627,208,558.2627,196,546.2627,208,534.2627" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="90" x="208" y="550.0708">destination `-d`</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="21" x="175" y="543.6685">TAR</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="33" x="310" y="543.6685">folder</text><rect fill="#FEFECE" filter="url(#f19x77ub0wexcb)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="113" x="117.25" y="568.2627"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="93" x="127.25" y="589.4014">save in TAR file</text><rect fill="#FEFECE" filter="url(#f19x77ub0wexcb)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="164" x="250.25" y="568.2627"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="144" x="260.25" y="589.4014">save PDB/CIFs to folder</text><polygon fill="#FEFECE" filter="url(#f19x77ub0wexcb)" points="253,608.2314,265,620.2314,253,632.2314,241,620.2314,253,608.2314" style="stroke: #A80036; stroke-width: 1.5;"/><ellipse cx="253" cy="663.2314" fill="#FFFFFF" filter="url(#f19x77ub0wexcb)" rx="11" ry="11" style="stroke: #000000; stroke-width: 1.0;"/><ellipse cx="253" cy="663.2314" fill="#000000" rx="6" ry="6" style="stroke: #7F7F7F; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="253" x2="253" y1="30" y2="50"/><polygon fill="#A80036" points="249,40,253,50,257,40,253,44" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="253" x2="253" y1="168.0361" y2="191.1846"/><polygon fill="#A80036" points="249,181.1846,253,191.1846,257,181.1846,253,185.1846" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="253" x2="253" y1="83.9688" y2="134.0674"/><polygon fill="#A80036" points="249,124.0674,253,134.0674,257,124.0674,253,128.0674" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="253" x2="253" y1="225.1533" y2="260.3018"/><polygon fill="#A80036" points="249,250.3018,253,260.3018,257,250.3018,253,254.3018" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="362" x2="362" y1="416.1455" y2="454.2939"/><polygon fill="#A80036" points="358,444.2939,362,454.2939,366,444.2939,362,448.2939" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="362" x2="362" y1="362.1768" y2="382.1768"/><polygon fill="#A80036" points="358,372.1768,362,382.1768,366,372.1768,362,376.1768" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="362" x2="362" y1="488.2627" y2="508.2627"/><polygon fill="#A80036" points="358,498.2627,362,508.2627,366,498.2627,362,502.2627" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="253" x2="253" y1="336.1768" y2="356.1768"/><polygon fill="#A80036" points="249,346.1768,253,356.1768,257,346.1768,253,350.1768" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="196" x2="173.75" y1="546.2627" y2="546.2627"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="173.75" x2="173.75" y1="546.2627" y2="568.2627"/><polygon fill="#A80036" points="169.75,558.2627,173.75,568.2627,177.75,558.2627,173.75,562.2627" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="310" x2="332.25" y1="546.2627" y2="546.2627"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="332.25" x2="332.25" y1="546.2627" y2="568.2627"/><polygon fill="#A80036" points="328.25,558.2627,332.25,568.2627,336.25,558.2627,332.25,562.2627" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="173.75" x2="173.75" y1="602.2314" y2="620.2314"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="173.75" x2="241" y1="620.2314" y2="620.2314"/><polygon fill="#A80036" points="231,616.2314,241,620.2314,231,624.2314,235,620.2314" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="332.25" x2="332.25" y1="602.2314" y2="620.2314"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="332.25" x2="265" y1="620.2314" y2="620.2314"/><polygon fill="#A80036" points="275,616.2314,265,620.2314,275,624.2314,271,620.2314" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="253" x2="253" y1="514.2627" y2="534.2627"/><polygon fill="#A80036" points="249,524.2627,253,534.2627,257,524.2627,253,528.2627" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="253" x2="253" y1="632.2314" y2="652.2314"/><polygon fill="#A80036" points="249,642.2314,253,652.2314,257,642.2314,253,646.2314" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[0d8ec0dd3caf70270d28c6cd664e357a]
@startuml

start

:idpconfgen //fetch//;

partition #LIGHTGREY Examples {
    #WHITE:$ idpconfgen fetch culled.list -d folder -u -n;
    note right
        where //culled.list// is a list containing PDBID[CHAIN] codes,
        and //folder// is a destination folder that may not exist.
    end note
    #WHITE:$ idpconfgen fetch 12AS 4YBB culled.list -d pdbs.tar -u -n -chunks 5000;
    note right
        where //pdbs.tar// is a destination
        tar file.
    end note
    }

:Compares to destination folder/file,
filters out existent files,
conflictive cases,
and downloads only missing entries;

fork

:downloads PDB or mmCIF;
note left
    Attempts to download PDB,
    if unavailable, attempts CIF.
end note

:saves file raw data;

end fork
note right
    This block is performed for each
    PDB file. In multiprocessing mode,
    each core pick a PDB code and run the whole
    block, once it is finished another PDB code
    is picked.
end note

if (destination `-d`) then (TAR)
    :save in TAR file;
else (folder)
    :save PDB/CIFs to folder;
endif
note right
    Files are saved after each chunk
    is completed.
end note

stop

@enduml

PlantUML version 1.2020.05(Thu Mar 19 17:17:32 EDT 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.7+10-post-Ubuntu-2ubuntu218.04
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>