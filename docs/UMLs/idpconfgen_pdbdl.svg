<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1887px" preserveAspectRatio="none" style="width:1304px;height:1887px;" version="1.1" viewBox="0 0 1304 1887" width="1304px" zoomAndPan="magnify"><defs><filter height="300%" id="fwuoups21l7m2" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><ellipse cx="402.25" cy="20" fill="#000000" filter="url(#fwuoups21l7m2)" rx="10" ry="10" style="stroke: none; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#fwuoups21l7m2)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="129" x="337.75" y="50"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="70" x="347.75" y="71.1387">idpconfgen</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="35" x="421.75" y="71.1387">pdbdl</text><rect fill="#D3D3D3" filter="url(#fwuoups21l7m2)" height="199.5" style="stroke: #000000; stroke-width: 2.0;" width="815.5" x="143.75" y="94.7705"/><path d="M219.75,95.7705 L219.75,104.0674 L209.75,114.0674 L143.75,114.0674 " fill="none" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="66" x="146.75" y="108.7656">Examples</text><path d="M568.25,130.9189 L568.25,147.0518 L548.25,151.0518 L568.25,155.0518 L568.25,171.1846 A0,0 0 0 0 568.25,171.1846 L949.25,171.1846 A0,0 0 0 0 949.25,171.1846 L949.25,140.9189 L939.25,130.9189 L568.25,130.9189 A0,0 0 0 0 568.25,130.9189 " fill="#FBFB77" filter="url(#fwuoups21l7m2)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M939.25,130.9189 L939.25,140.9189 L949.25,140.9189 L939.25,130.9189 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="38" x="574.25" y="147.9858">where</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="59" x="616.25" y="147.9858">culled.list</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="255" x="679.25" y="147.9858">is a list containing PDBID[CHAIN] codes,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="24" x="574.25" y="163.1187">and</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="36" x="602.25" y="163.1187">folder</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="262" x="642.25" y="163.1187">is a destination folder that may not exist.</text><rect fill="#FFFFFF" filter="url(#fwuoups21l7m2)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="292" x="256.25" y="134.0674"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="272" x="266.25" y="155.2061">$ idpconfgen pdbdl culled.list -d folder -u -n</text><path d="M670.75,188.0361 L670.75,204.1689 L650.75,208.1689 L670.75,212.1689 L670.75,228.3018 A0,0 0 0 0 670.75,228.3018 L887.75,228.3018 A0,0 0 0 0 887.75,228.3018 L887.75,198.0361 L877.75,188.0361 L670.75,188.0361 A0,0 0 0 0 670.75,188.0361 " fill="#FBFB77" filter="url(#fwuoups21l7m2)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M877.75,188.0361 L877.75,198.0361 L887.75,198.0361 L877.75,188.0361 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="38" x="676.75" y="205.103">where</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="53" x="718.75" y="205.103">pdbs.tar</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="97" x="775.75" y="205.103">is a destination</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="44" x="676.75" y="220.2358">tar file.</text><rect fill="#FFFFFF" filter="url(#fwuoups21l7m2)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="497" x="153.75" y="191.1846"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="477" x="163.75" y="212.3232">$ idpconfgen pdbdl 12AS_A 4YBB_B culled.list -d pdbs.tar -u -n -chunks 5000</text><rect fill="#FFFFFF" filter="url(#fwuoups21l7m2)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="266" x="269.25" y="248.3018"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="246" x="279.25" y="269.4404">$ idpconfgen pdbdl 12AS -d pdbs.tar -u</text><rect fill="#FEFECE" filter="url(#fwuoups21l7m2)" height="47.9375" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="235" x="284.75" y="314.2705"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="215" x="294.75" y="335.4092">tokenizes input, identifying PDBIDs</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="138" x="294.75" y="349.3779">and respective chains</text><rect fill="#FEFECE" filter="url(#fwuoups21l7m2)" height="47.9375" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="225" x="289.75" y="382.208"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="204" x="299.75" y="403.3467">Compares destination folder/file,</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="205" x="299.75" y="417.3154">to download only missing entries</text><path d="M524.25,453.9814 L524.25,470.1143 L504.25,474.1143 L524.25,478.1143 L524.25,494.2471 A0,0 0 0 0 524.25,494.2471 L643.25,494.2471 A0,0 0 0 0 643.25,494.2471 L643.25,463.9814 L633.25,453.9814 L524.25,453.9814 A0,0 0 0 0 524.25,453.9814 " fill="#FBFB77" filter="url(#fwuoups21l7m2)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M633.25,453.9814 L633.25,463.9814 L643.25,463.9814 L633.25,453.9814 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="83" x="530.25" y="471.0483">1MH1_A, (...)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="98" x="530.25" y="486.1812">total: 11 chains</text><rect fill="#FEFECE" filter="url(#fwuoups21l7m2)" height="47.9375" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="204" x="300.25" y="450.1455"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="184" x="310.25" y="471.2842">filters out PDBID:CHAIN codes</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="143" x="310.25" y="485.2529">known to be conflictive</text><path d="M816.5,1068.2842 L816.5,1153.9482 L1125.5,1153.9482 L1125.5,1078.2842 L1115.5,1068.2842 L816.5,1068.2842 " fill="#FBFB77" filter="url(#fwuoups21l7m2)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1115.5,1068.2842 L1115.5,1078.2842 L1125.5,1078.2842 L1115.5,1068.2842 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="203" x="822.5" y="1085.3511">This block is performed for each</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="218" x="822.5" y="1100.4839">PDB file. In multiprocessing mode,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="288" x="822.5" y="1115.6167">each core pick a PDB code and run the whole</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="271" x="822.5" y="1130.7495">block, once it is finished another PDB code</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="59" x="822.5" y="1145.8823">is picked.</text><rect fill="#000000" filter="url(#fwuoups21l7m2)" height="6" rx="2.5" ry="2.5" style="stroke: #000000; stroke-width: 1.0;" width="786.5" x="10" y="572.0518"/><path d="M375.5,594.9033 L375.5,611.0361 L355.5,615.0361 L375.5,619.0361 L375.5,635.1689 A0,0 0 0 0 375.5,635.1689 L573.5,635.1689 A0,0 0 0 0 573.5,635.1689 L573.5,604.9033 L563.5,594.9033 L375.5,594.9033 A0,0 0 0 0 375.5,594.9033 " fill="#FBFB77" filter="url(#fwuoups21l7m2)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M563.5,594.9033 L563.5,604.9033 L573.5,604.9033 L563.5,594.9033 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="176" x="381.5" y="611.9702">Attempts to download PDB,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="177" x="381.5" y="627.103">if unavailable, attempts CIF.</text><rect fill="#FEFECE" filter="url(#fwuoups21l7m2)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="177" x="178.5" y="598.0518"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="157" x="188.5" y="619.1904">downloads PDB or mmCIF</text><rect fill="#E6FFE6" filter="url(#fwuoups21l7m2)" height="255.6016" style="stroke: #000000; stroke-width: 2.0;" width="560" x="81" y="645.9707"/><path d="M159,646.9707 L159,655.2676 L149,665.2676 L81,665.2676 " fill="none" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="50" x="84" y="659.9658">filtering</text><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="138" y="659.9658">in</text><rect fill="#FEFECE" filter="url(#fwuoups21l7m2)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="352" x="91" y="682.2676"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="332" x="101" y="703.4063">converts PDB and mmCIF to the same internal format</text><rect fill="#FEFECE" filter="url(#fwuoups21l7m2)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="244" x="145" y="736.2363"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="224" x="155" y="757.375">select MODEL 1 (if multiple MODELS)</text><path d="M362,794.623 L362,803.1895 L342,807.1895 L362,811.1895 L362,819.7559 A0,0 0 0 0 362,819.7559 L458,819.7559 A0,0 0 0 0 458,819.7559 L458,804.623 L448,794.623 L362,794.623 A0,0 0 0 0 362,794.623 " fill="#FBFB77" filter="url(#fwuoups21l7m2)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M448,794.623 L448,804.623 L458,804.623 L448,794.623 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="75" x="368" y="811.6899">details later</text><rect fill="#FEFECE" filter="url(#fwuoups21l7m2)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="150" x="192" y="790.2051"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="130" x="202" y="811.3438">select desired CHAIN</text><path d="M380,834.1738 L380,857.873 L360,861.873 L380,865.873 L380,889.5723 A0,0 0 0 0 380,889.5723 L631,889.5723 A0,0 0 0 0 631,889.5723 L631,844.1738 L621,834.1738 L380,834.1738 A0,0 0 0 0 380,834.1738 " fill="#FBFB77" filter="url(#fwuoups21l7m2)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M621,834.1738 L621,844.1738 L631,844.1738 L621,834.1738 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="38" x="386" y="851.2407">altLoc</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="8" x="428" y="851.2407">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="149" x="440" y="851.2407">in mmCIFs is converted</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="230" x="386" y="866.3735">to 'A' because the former was found</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="53" x="386" y="881.5063">to break</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="30" x="443" y="881.5063">dssp</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="79" x="477" y="881.5063">calculations.</text><rect fill="#FEFECE" filter="url(#fwuoups21l7m2)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="186" x="174" y="844.8887"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="72" x="184" y="866.0273">keep altLoc</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="33" x="260" y="866.0273">None</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="57" x="293" y="866.0273">, 'A' or '1'</text><rect fill="#FFE6E6" filter="url(#fwuoups21l7m2)" height="198.2031" style="stroke: #000000; stroke-width: 2.0;" width="215" x="159.5" y="912.374"/><path d="M225.5,913.374 L225.5,921.6709 L215.5,931.6709 L159.5,931.6709 " fill="none" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="56" x="162.5" y="926.3691">filter out</text><rect fill="#FEFECE" filter="url(#fwuoups21l7m2)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="192" x="171" y="948.6709"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="172" x="181" y="969.8096">non- N, C, CA, O, S, Se, H, D</text><rect fill="#FEFECE" filter="url(#fwuoups21l7m2)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="152" x="191" y="1002.6396"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="132" x="201" y="1023.7783">non- ribonucleiotides</text><rect fill="#FEFECE" filter="url(#fwuoups21l7m2)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="195" x="169.5" y="1056.6084"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="175" x="179.5" y="1077.7471">non- ligand/solvent (&gt;1500)</text><rect fill="#FFFFFF" filter="url(#fwuoups21l7m2)" height="279.5273" style="stroke: #000000; stroke-width: 2.0;" width="760.5" x="22" y="1145.5771"/><path d="M136,1146.5771 L136,1154.874 L126,1164.874 L22,1164.874 " fill="none" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="104" x="25" y="1159.5723">chain selection</text><path d="M474.5,1184.5459 L474.5,1215.8115 L454.5,1219.8115 L474.5,1223.8115 L474.5,1255.0771 A0,0 0 0 0 474.5,1255.0771 L772.5,1255.0771 A0,0 0 0 0 772.5,1255.0771 L772.5,1194.5459 L762.5,1184.5459 L474.5,1184.5459 A0,0 0 0 0 474.5,1184.5459 " fill="#FBFB77" filter="url(#fwuoups21l7m2)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M762.5,1184.5459 L762.5,1194.5459 L772.5,1194.5459 L762.5,1184.5459 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="184" x="480.5" y="1201.6128">Dunbrack PISCES's culled list</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="243" x="480.5" y="1216.7456">provides all chains in UPPER case, this</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="261" x="480.5" y="1231.8784">many times conflicts with mmCIF format,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="277" x="480.5" y="1247.0112">forcing the algorithm to try different chains.</text><rect fill="#FEFECE" filter="url(#fwuoups21l7m2)" height="75.875" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="375" x="79.5" y="1181.874"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="211" x="89.5" y="1203.0127">probe UPPER/LOWER case chains:</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="0" x="93.5" y="1216.9814"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="158" x="105.5" y="1230.9502">* Example: AA, Aa, aA, aa</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="339" x="105.5" y="1244.9189">* attempt the selected chain first (highest probability)</text><rect fill="#FEFECE" filter="url(#fwuoups21l7m2)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="245" x="144.5" y="1277.749"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="225" x="154.5" y="1298.8877">loop through possible combinations</text><polygon fill="#FEFECE" filter="url(#fwuoups21l7m2)" points="44,1331.7178,134,1331.7178,146,1343.7178,134,1355.7178,44,1355.7178,32,1343.7178,44,1331.7178" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="20" x="93" y="1365.9282">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="90" x="44" y="1347.5259">empty selection</text><ellipse cx="89" cy="1399.5225" fill="#FFFFFF" filter="url(#fwuoups21l7m2)" rx="11" ry="11" style="stroke: #000000; stroke-width: 1.0;"/><ellipse cx="89" cy="1399.5225" fill="#000000" rx="6" ry="6" style="stroke: #7F7F7F; stroke-width: 1.0;"/><polygon fill="#FEFECE" filter="url(#fwuoups21l7m2)" points="178,1331.7178,288,1331.7178,300,1343.7178,288,1355.7178,178,1355.7178,166,1343.7178,178,1331.7178" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="20" x="237" y="1365.9282">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="29" x="178" y="1347.5259">or all</text><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="46" x="211" y="1347.5259">HETATM</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="27" x="261" y="1347.5259">lines</text><ellipse cx="233" cy="1399.5225" fill="#FFFFFF" filter="url(#fwuoups21l7m2)" rx="11" ry="11" style="stroke: #000000; stroke-width: 1.0;"/><ellipse cx="233" cy="1399.5225" fill="#000000" rx="6" ry="6" style="stroke: #7F7F7F; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#fwuoups21l7m2)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="182" x="320" y="1379.1357"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="162" x="330" y="1400.2744">found meaninful selection</text><rect fill="#FFFFFF" filter="url(#fwuoups21l7m2)" height="150.2031" style="stroke: #000000; stroke-width: 2.0;" width="263" x="135.5" y="1435.9063"/><path d="M266.5,1436.9063 L266.5,1445.2031 L256.5,1455.2031 L135.5,1455.2031 " fill="none" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="121" x="138.5" y="1449.9014">additional parsing</text><rect fill="#FEFECE" filter="url(#fwuoups21l7m2)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="231" x="151.5" y="1472.2031"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="211" x="161.5" y="1493.3418">renumber atoms for saved chains</text><rect fill="#FEFECE" filter="url(#fwuoups21l7m2)" height="47.9375" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="243" x="145.5" y="1526.1719"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="141" x="155.5" y="1547.3105">delete insertion codes</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="5" x="171.5" y="1561.2793">(</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="103" x="176.5" y="1561.2793">pdb_delinsertion</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="28" x="283.5" y="1561.2793">from</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="58" x="315.5" y="1561.2793">pdb-tools</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="5" x="373.5" y="1561.2793">)</text><rect fill="#000000" filter="url(#fwuoups21l7m2)" height="6" rx="2.5" ry="2.5" style="stroke: #000000; stroke-width: 1.0;" width="786.5" x="10" y="1606.1094"/><rect fill="#FEFECE" filter="url(#fwuoups21l7m2)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="243" x="280.75" y="1632.1094"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="223" x="290.75" y="1653.248">Data is saved per chunk to the disk</text><polygon fill="#FEFECE" filter="url(#fwuoups21l7m2)" points="357.25,1686.0781,447.25,1686.0781,459.25,1698.0781,447.25,1710.0781,357.25,1710.0781,345.25,1698.0781,357.25,1686.0781" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="90" x="357.25" y="1701.8862">destination `-d`</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="21" x="324.25" y="1695.4839">TAR</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="33" x="459.25" y="1695.4839">folder</text><rect fill="#FEFECE" filter="url(#fwuoups21l7m2)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="151" x="243.5" y="1720.0781"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="131" x="253.5" y="1741.2168">save PDBs to TAR file</text><path d="M576.5,1720.0781 L576.5,1736.2109 L556.5,1740.2109 L576.5,1744.2109 L576.5,1760.3438 A0,0 0 0 0 576.5,1760.3438 L806.5,1760.3438 A0,0 0 0 0 806.5,1760.3438 L806.5,1730.0781 L796.5,1720.0781 L576.5,1720.0781 A0,0 0 0 0 576.5,1720.0781 " fill="#D3D3D3" filter="url(#fwuoups21l7m2)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M796.5,1720.0781 L796.5,1730.0781 L806.5,1730.0781 L796.5,1720.0781 " fill="#D3D3D3" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="209" x="582.5" y="1737.145">mmCIF chains have been parsed</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="91" x="582.5" y="1752.2778">to PDB format</text><rect fill="#FEFECE" filter="url(#fwuoups21l7m2)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="142" x="414.5" y="1723.2266"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="122" x="424.5" y="1744.3652">save PDBs to folder</text><polygon fill="#FEFECE" filter="url(#fwuoups21l7m2)" points="402.25,1766.3438,414.25,1778.3438,402.25,1790.3438,390.25,1778.3438,402.25,1766.3438" style="stroke: #A80036; stroke-width: 1.5;"/><rect fill="#FFD3F2" filter="url(#fwuoups21l7m2)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="169" x="317.75" y="518.083"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="149" x="327.75" y="539.2217">for each chunk of paths</text><polygon fill="#FEFECE" filter="url(#fwuoups21l7m2)" points="336.25,1810.3438,468.25,1810.3438,480.25,1822.3438,468.25,1834.3438,336.25,1834.3438,324.25,1822.3438,336.25,1810.3438" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="132" x="336.25" y="1826.1519">more PDBs to process?</text><rect fill="#FEFECE" filter="url(#fwuoups21l7m2)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="158" x="1135.5" y="1193.2646"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="138" x="1145.5" y="1214.4033">launch another chunk</text><ellipse cx="402.25" cy="1865.3438" fill="#FFFFFF" filter="url(#fwuoups21l7m2)" rx="11" ry="11" style="stroke: #000000; stroke-width: 1.0;"/><ellipse cx="402.25" cy="1865.3438" fill="#000000" rx="6" ry="6" style="stroke: #7F7F7F; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="402.25" x2="402.25" y1="30" y2="50"/><polygon fill="#A80036" points="398.25,40,402.25,50,406.25,40,402.25,44" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="402.25" x2="402.25" y1="168.0361" y2="191.1846"/><polygon fill="#A80036" points="398.25,181.1846,402.25,191.1846,406.25,181.1846,402.25,185.1846" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="402.25" x2="402.25" y1="225.1533" y2="248.3018"/><polygon fill="#A80036" points="398.25,238.3018,402.25,248.3018,406.25,238.3018,402.25,242.3018" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="402.25" x2="402.25" y1="83.9688" y2="134.0674"/><polygon fill="#A80036" points="398.25,124.0674,402.25,134.0674,406.25,124.0674,402.25,128.0674" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="402.25" x2="402.25" y1="282.2705" y2="314.2705"/><polygon fill="#A80036" points="398.25,304.2705,402.25,314.2705,406.25,304.2705,402.25,308.2705" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="402.25" x2="402.25" y1="362.208" y2="382.208"/><polygon fill="#A80036" points="398.25,372.208,402.25,382.208,406.25,372.208,402.25,376.208" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="402.25" x2="402.25" y1="430.1455" y2="450.1455"/><polygon fill="#A80036" points="398.25,440.1455,402.25,450.1455,406.25,440.1455,402.25,444.1455" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="267" x2="267" y1="716.2363" y2="736.2363"/><polygon fill="#A80036" points="263,726.2363,267,736.2363,271,726.2363,267,730.2363" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="267" x2="267" y1="770.2051" y2="790.2051"/><polygon fill="#A80036" points="263,780.2051,267,790.2051,271,780.2051,267,784.2051" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="267" x2="267" y1="824.1738" y2="844.8887"/><polygon fill="#A80036" points="263,834.8887,267,844.8887,271,834.8887,267,838.8887" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="267" x2="267" y1="632.0205" y2="682.2676"/><polygon fill="#A80036" points="263,672.2676,267,682.2676,271,672.2676,267,676.2676" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="267" x2="267" y1="982.6396" y2="1002.6396"/><polygon fill="#A80036" points="263,992.6396,267,1002.6396,271,992.6396,267,996.6396" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="267" x2="267" y1="1036.6084" y2="1056.6084"/><polygon fill="#A80036" points="263,1046.6084,267,1056.6084,271,1046.6084,267,1050.6084" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="267" x2="267" y1="878.8574" y2="948.6709"/><polygon fill="#A80036" points="263,938.6709,267,948.6709,271,938.6709,267,942.6709" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="267" x2="267" y1="1257.749" y2="1277.749"/><polygon fill="#A80036" points="263,1267.749,267,1277.749,271,1267.749,267,1271.749" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="89" x2="89" y1="1355.7178" y2="1388.5225"/><polygon fill="#A80036" points="85,1378.5225,89,1388.5225,93,1378.5225,89,1382.5225" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="233" x2="233" y1="1355.7178" y2="1388.5225"/><polygon fill="#A80036" points="229,1378.5225,233,1388.5225,237,1378.5225,233,1382.5225" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="146" x2="166" y1="1343.7178" y2="1343.7178"/><polygon fill="#A80036" points="156,1339.7178,166,1343.7178,156,1347.7178,160,1343.7178" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="267" x2="267" y1="1311.7178" y2="1316.7178"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="267" x2="89" y1="1316.7178" y2="1316.7178"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="89" x2="89" y1="1316.7178" y2="1331.7178"/><polygon fill="#A80036" points="85,1321.7178,89,1331.7178,93,1321.7178,89,1325.7178" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="300" x2="411" y1="1343.7178" y2="1343.7178"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="411" x2="411" y1="1343.7178" y2="1379.1357"/><polygon fill="#A80036" points="407,1369.1357,411,1379.1357,415,1369.1357,411,1373.1357" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="411" x2="411" y1="1413.1045" y2="1418.1045"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="411" x2="267" y1="1418.1045" y2="1418.1045"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="267" x2="267" y1="1418.1045" y2="1472.2031"/><polygon fill="#A80036" points="263,1462.2031,267,1472.2031,271,1462.2031,267,1466.2031" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="267" x2="267" y1="1090.5771" y2="1181.874"/><polygon fill="#A80036" points="263,1171.874,267,1181.874,271,1171.874,267,1175.874" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="267" x2="267" y1="1506.1719" y2="1526.1719"/><polygon fill="#A80036" points="263,1516.1719,267,1526.1719,271,1516.1719,267,1520.1719" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="267" x2="267" y1="578.0518" y2="598.0518"/><polygon fill="#A80036" points="263,588.0518,267,598.0518,271,588.0518,267,592.0518" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="267" x2="267" y1="1574.1094" y2="1606.1094"/><polygon fill="#A80036" points="263,1596.1094,267,1606.1094,271,1596.1094,267,1600.1094" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="402.25" x2="402.25" y1="1612.1094" y2="1632.1094"/><polygon fill="#A80036" points="398.25,1622.1094,402.25,1632.1094,406.25,1622.1094,402.25,1626.1094" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="345.25" x2="319" y1="1698.0781" y2="1698.0781"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="319" x2="319" y1="1698.0781" y2="1720.0781"/><polygon fill="#A80036" points="315,1710.0781,319,1720.0781,323,1710.0781,319,1714.0781" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="459.25" x2="485.5" y1="1698.0781" y2="1698.0781"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="485.5" x2="485.5" y1="1698.0781" y2="1723.2266"/><polygon fill="#A80036" points="481.5,1713.2266,485.5,1723.2266,489.5,1713.2266,485.5,1717.2266" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="319" x2="319" y1="1754.0469" y2="1778.3438"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="319" x2="390.25" y1="1778.3438" y2="1778.3438"/><polygon fill="#A80036" points="380.25,1774.3438,390.25,1778.3438,380.25,1782.3438,384.25,1778.3438" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="485.5" x2="485.5" y1="1757.1953" y2="1778.3438"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="485.5" x2="414.25" y1="1778.3438" y2="1778.3438"/><polygon fill="#A80036" points="424.25,1774.3438,414.25,1778.3438,424.25,1782.3438,420.25,1778.3438" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="402.25" x2="402.25" y1="1666.0781" y2="1686.0781"/><polygon fill="#A80036" points="398.25,1676.0781,402.25,1686.0781,406.25,1676.0781,402.25,1680.0781" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="402.25" x2="402.25" y1="552.0518" y2="572.0518"/><polygon fill="#A80036" points="398.25,562.0518,402.25,572.0518,406.25,562.0518,402.25,566.0518" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="480.25" x2="1214.5" y1="1822.3438" y2="1822.3438"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1214.5" x2="1214.5" y1="1227.2334" y2="1822.3438"/><polygon fill="#A80036" points="1210.5,1237.2334,1214.5,1227.2334,1218.5,1237.2334,1214.5,1233.2334" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1210.5,850.0918,1214.5,840.0918,1218.5,850.0918,1214.5,846.0918" style="stroke: #A80036; stroke-width: 1.5;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1214.5" x2="1214.5" y1="535.0674" y2="1193.2646"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1214.5" x2="486.75" y1="535.0674" y2="535.0674"/><polygon fill="#A80036" points="496.75,531.0674,486.75,535.0674,496.75,539.0674,492.75,535.0674" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="402.25" x2="402.25" y1="1790.3438" y2="1810.3438"/><polygon fill="#A80036" points="398.25,1800.3438,402.25,1810.3438,406.25,1800.3438,402.25,1804.3438" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="402.25" x2="402.25" y1="498.083" y2="518.083"/><polygon fill="#A80036" points="398.25,508.083,402.25,518.083,406.25,508.083,402.25,512.083" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="402.25" x2="402.25" y1="1834.3438" y2="1854.3438"/><polygon fill="#A80036" points="398.25,1844.3438,402.25,1854.3438,406.25,1844.3438,402.25,1848.3438" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[ccc8e435912d9d11ba60ce34efe56758]
@startuml

start

:idpconfgen //pdbdl//;

partition #LIGHTGREY Examples {
    #WHITE:$ idpconfgen pdbdl culled.list -d folder -u -n;
    note right
        where //culled.list// is a list containing PDBID[CHAIN] codes,
        and //folder// is a destination folder that may not exist.
    end note
    #WHITE:$ idpconfgen pdbdl 12AS_A 4YBB_B culled.list -d pdbs.tar -u -n -chunks 5000;
    note right
        where //pdbs.tar// is a destination
        tar file.
    end note
    #WHITE:$ idpconfgen pdbdl 12AS -d pdbs.tar -u;
    }

:tokenizes input, identifying PDBIDs
and respective chains;

:Compares destination folder/file,
to download only missing entries;

:filters out PDBID:CHAIN codes
known to be conflictive;
note right
    1MH1_A, (...)
    total: 11 chains
end note

#FFD3F2:repeat ://for each chunk of paths//;
fork

:downloads PDB or mmCIF;
note right
    Attempts to download PDB,
    if unavailable, attempts CIF.
end note

partition #e6ffe6 "filtering **in**" {
    :converts PDB and mmCIF to the same internal format;
    :select MODEL 1 (if multiple MODELS);
    :select desired CHAIN;
    note right
        details later
    end note
    :keep altLoc //None//, 'A' or '1';
    note right
        altLoc //1// in mmCIFs is converted
        to 'A' because the former was found
        to break //dssp// calculations.
    end note
}

partition #ffe6e6 "filter out" {
    :non- N, C, CA, O, S, Se, H, D;
    :non- ribonucleiotides;
    :non- ligand/solvent (>1500);

}

partition "chain selection" {
    :probe UPPER/LOWER case chains:

        * Example: AA, Aa, aA, aa
        * attempt the selected chain first (highest probability);
    note right
        Dunbrack PISCES's culled list
        provides all chains in UPPER case, this
        many times conflicts with mmCIF format,
        forcing the algorithm to try different chains.
    end note
    :loop through possible combinations;
    if (empty selection) then (yes)
        stop
    elseif (or all //HETATM// lines) then (yes)
        stop
    else
        :found meaninful selection;
    endif
}

partition "additional parsing" {
    :renumber atoms for saved chains;
    :delete insertion codes
        (//pdb_delinsertion// from //pdb-tools//);
}


end fork
note right
    This block is performed for each
    PDB file. In multiprocessing mode,
    each core pick a PDB code and run the whole
    block, once it is finished another PDB code
    is picked.
end note
:Data is saved per chunk to the disk;
if (destination `-d`) then (TAR)
    :save PDBs to TAR file;
else (folder)
    :save PDBs to folder;
    note right #lightgrey
    mmCIF chains have been parsed
    to PDB format
    end note
endif
backward://launch another chunk//;
repeat while (//more PDBs to process?//)

stop

@enduml

PlantUML version 1.2020.05(Thu Mar 19 17:17:32 EDT 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.7+10-post-Ubuntu-2ubuntu218.04
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>