<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1661px" preserveAspectRatio="none" style="width:977px;height:1661px;" version="1.1" viewBox="0 0 977 1661" width="977px" zoomAndPan="magnify"><defs><filter height="300%" id="fo3qq80btwp2" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><ellipse cx="322" cy="20" fill="#000000" filter="url(#fo3qq80btwp2)" rx="10" ry="10" style="stroke: none; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#fo3qq80btwp2)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="129" x="257.5" y="50"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="70" x="267.5" y="71.1387">idpconfgen</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="35" x="341.5" y="71.1387">pdbdl</text><rect fill="#D3D3D3" filter="url(#fo3qq80btwp2)" height="145.5313" style="stroke: #000000; stroke-width: 2.0;" width="815.5" x="63.5" y="94.7705"/><path d="M139.5,95.7705 L139.5,104.0674 L129.5,114.0674 L63.5,114.0674 " fill="none" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="66" x="66.5" y="108.7656">Examples</text><path d="M488,130.9189 L488,147.0518 L468,151.0518 L488,155.0518 L488,171.1846 A0,0 0 0 0 488,171.1846 L869,171.1846 A0,0 0 0 0 869,171.1846 L869,140.9189 L859,130.9189 L488,130.9189 A0,0 0 0 0 488,130.9189 " fill="#FBFB77" filter="url(#fo3qq80btwp2)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M859,130.9189 L859,140.9189 L869,140.9189 L859,130.9189 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="38" x="494" y="147.9858">where</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="59" x="536" y="147.9858">culled.list</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="255" x="599" y="147.9858">is a list containing PDBID[CHAIN] codes,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="24" x="494" y="163.1187">and</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="36" x="522" y="163.1187">folder</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="262" x="562" y="163.1187">is a destination folder that may not exist.</text><rect fill="#FFFFFF" filter="url(#fo3qq80btwp2)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="292" x="176" y="134.0674"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="272" x="186" y="155.2061">$ idpconfgen pdbdl culled.list -d folder -u -n</text><path d="M590.5,188.0361 L590.5,204.1689 L570.5,208.1689 L590.5,212.1689 L590.5,228.3018 A0,0 0 0 0 590.5,228.3018 L807.5,228.3018 A0,0 0 0 0 807.5,228.3018 L807.5,198.0361 L797.5,188.0361 L590.5,188.0361 A0,0 0 0 0 590.5,188.0361 " fill="#FBFB77" filter="url(#fo3qq80btwp2)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M797.5,188.0361 L797.5,198.0361 L807.5,198.0361 L797.5,188.0361 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="38" x="596.5" y="205.103">where</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="53" x="638.5" y="205.103">pdbs.tar</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="97" x="695.5" y="205.103">is a destination</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="44" x="596.5" y="220.2358">tar file.</text><rect fill="#FFFFFF" filter="url(#fo3qq80btwp2)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="497" x="73.5" y="191.1846"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="477" x="83.5" y="212.3232">$ idpconfgen pdbdl 12AS_A 4YBB_B culled.list -d pdbs.tar -u -n -chunks 5000</text><rect fill="#FEFECE" filter="url(#fo3qq80btwp2)" height="47.9375" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="224" x="210" y="260.3018"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="204" x="220" y="281.4404">Compares destination folder/file,</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="195" x="220" y="295.4092">downloads only missing entries</text><path d="M444,339.6416 L444,348.208 L424,352.208 L444,356.208 L444,364.7744 A0,0 0 0 0 444,364.7744 L518,364.7744 A0,0 0 0 0 518,364.7744 L518,349.6416 L508,339.6416 L444,339.6416 A0,0 0 0 0 444,339.6416 " fill="#FBFB77" filter="url(#fo3qq80btwp2)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M508,339.6416 L508,349.6416 L518,349.6416 L508,339.6416 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="53" x="450" y="356.7085">1MH1_A</text><rect fill="#FEFECE" filter="url(#fo3qq80btwp2)" height="47.9375" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="204" x="220" y="328.2393"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="184" x="230" y="349.3779">filters out PDBID:CHAIN codes</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="143" x="230" y="363.3467">known to be conflictive</text><path d="M656,885.9248 L656,971.5889 L965,971.5889 L965,895.9248 L955,885.9248 L656,885.9248 " fill="#FBFB77" filter="url(#fo3qq80btwp2)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M955,885.9248 L955,895.9248 L965,895.9248 L955,885.9248 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="203" x="662" y="902.9917">This block is performed for each</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="218" x="662" y="918.1245">PDB file. In multiprocessing mode,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="288" x="662" y="933.2573">each core pick a PDB code and run the whole</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="271" x="662" y="948.3901">block, once it is finished another PDB code</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="59" x="662" y="963.5229">is picked.</text><rect fill="#000000" filter="url(#fo3qq80btwp2)" height="6" rx="2.5" ry="2.5" style="stroke: #000000; stroke-width: 1.0;" width="626" x="10" y="396.1768"/><path d="M323,419.0283 L323,435.1611 L303,439.1611 L323,443.1611 L323,459.2939 A0,0 0 0 0 323,459.2939 L521,459.2939 A0,0 0 0 0 521,459.2939 L521,429.0283 L511,419.0283 L323,419.0283 A0,0 0 0 0 323,419.0283 " fill="#FBFB77" filter="url(#fo3qq80btwp2)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M511,419.0283 L511,429.0283 L521,429.0283 L511,419.0283 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="176" x="329" y="436.0952">Attempts to download PDB,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="177" x="329" y="451.228">if unavailable, attempts CIF.</text><rect fill="#FEFECE" filter="url(#fo3qq80btwp2)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="177" x="126" y="422.1768"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="157" x="136" y="443.3154">downloads PDB or mmCIF</text><rect fill="#E6FFE6" filter="url(#fo3qq80btwp2)" height="244.1719" style="stroke: #000000; stroke-width: 2.0;" width="387" x="28.5" y="470.0957"/><path d="M106.5,471.0957 L106.5,479.3926 L96.5,489.3926 L28.5,489.3926 " fill="none" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="50" x="31.5" y="484.0908">filtering</text><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="85.5" y="484.0908">in</text><rect fill="#FEFECE" filter="url(#fo3qq80btwp2)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="352" x="38.5" y="506.3926"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="332" x="48.5" y="527.5313">converts PDB and mmCIF to the same internal format</text><rect fill="#FEFECE" filter="url(#fo3qq80btwp2)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="244" x="92.5" y="560.3613"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="224" x="102.5" y="581.5">select MODEL 1 (if multiple MODELS)</text><path d="M309.5,618.748 L309.5,627.3145 L289.5,631.3145 L309.5,635.3145 L309.5,643.8809 A0,0 0 0 0 309.5,643.8809 L405.5,643.8809 A0,0 0 0 0 405.5,643.8809 L405.5,628.748 L395.5,618.748 L309.5,618.748 A0,0 0 0 0 309.5,618.748 " fill="#FBFB77" filter="url(#fo3qq80btwp2)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M395.5,618.748 L395.5,628.748 L405.5,628.748 L395.5,618.748 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="75" x="315.5" y="635.8149">details later</text><rect fill="#FEFECE" filter="url(#fo3qq80btwp2)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="150" x="139.5" y="614.3301"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="130" x="149.5" y="635.4688">select desired CHAIN</text><rect fill="#FEFECE" filter="url(#fo3qq80btwp2)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="170" x="129.5" y="668.2988"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="150" x="139.5" y="689.4375">keep altLoc `A` or None</text><rect fill="#FFE6E6" filter="url(#fo3qq80btwp2)" height="198.2031" style="stroke: #000000; stroke-width: 2.0;" width="215" x="107" y="725.0693"/><path d="M173,726.0693 L173,734.3662 L163,744.3662 L107,744.3662 " fill="none" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="56" x="110" y="739.0645">filter out</text><rect fill="#FEFECE" filter="url(#fo3qq80btwp2)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="192" x="118.5" y="761.3662"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="172" x="128.5" y="782.5049">non- N, C, CA, O, S, Se, H, D</text><rect fill="#FEFECE" filter="url(#fo3qq80btwp2)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="152" x="138.5" y="815.335"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="132" x="148.5" y="836.4736">non- ribonucleiotides</text><rect fill="#FEFECE" filter="url(#fo3qq80btwp2)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="195" x="117" y="869.3037"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="175" x="127" y="890.4424">non- ligand/solvent (&gt;1500)</text><rect fill="#FFFFFF" filter="url(#fo3qq80btwp2)" height="345.4097" style="stroke: #000000; stroke-width: 2.0;" width="600" x="22" y="958.2725"/><path d="M134,959.2725 L134,967.5693 L124,977.5693 L22,977.5693 " fill="none" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="102" x="25" y="972.2676">probing chains</text><path d="M330,987.5693 L330,1011.2686 L310,1015.2686 L330,1019.2686 L330,1042.9678 A0,0 0 0 0 330,1042.9678 L612,1042.9678 A0,0 0 0 0 612,1042.9678 L612,997.5693 L602,987.5693 L330,987.5693 A0,0 0 0 0 330,987.5693 " fill="#FBFB77" filter="url(#fo3qq80btwp2)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M602,987.5693 L602,997.5693 L612,997.5693 L602,987.5693 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="237" x="336" y="1004.6362">However, Dunbrack PISCES culled list</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="243" x="336" y="1019.769">provides all chains in UPPER case, this</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="261" x="336" y="1034.9019">many times conflicts with mmCIF format.</text><rect fill="#FEFECE" filter="url(#fo3qq80btwp2)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="191" x="119" y="998.2842"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="171" x="129" y="1019.4229">attempt the selected chain</text><rect fill="#FEFECE" filter="url(#fo3qq80btwp2)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="317" x="56" y="1118.6782"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="297" x="66" y="1139.8169">probe another UPPER/LOWER case combination</text><rect fill="#FEFECE" filter="url(#fo3qq80btwp2)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="172" x="128.5" y="1181.7446"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="152" x="138.5" y="1202.8833">Example: AA, Aa, aA, aa.</text><polygon fill="#FEFECE" filter="url(#fo3qq80btwp2)" points="172,1062.9678,257,1062.9678,269,1074.9678,257,1086.9678,172,1086.9678,160,1074.9678,172,1062.9678" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="90" x="218.5" y="1097.1782">empty selection</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="85" x="172" y="1078.7759">chain selection</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="118" x="42" y="1072.3735">meaningful selection</text><rect fill="#FEFECE" filter="url(#fo3qq80btwp2)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="75" x="177" y="1257.7134"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="55" x="187" y="1278.8521">continue</text><rect fill="#FFFFFF" filter="url(#fo3qq80btwp2)" height="150.2031" style="stroke: #000000; stroke-width: 2.0;" width="263" x="83" y="1314.4839"/><path d="M214,1315.4839 L214,1323.7808 L204,1333.7808 L83,1333.7808 " fill="none" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="121" x="86" y="1328.479">additional parsing</text><rect fill="#FEFECE" filter="url(#fo3qq80btwp2)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="231" x="99" y="1350.7808"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="211" x="109" y="1371.9194">renumber atoms for saved chains</text><rect fill="#FEFECE" filter="url(#fo3qq80btwp2)" height="47.9375" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="243" x="93" y="1404.7495"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="141" x="103" y="1425.8882">delete insertion codes</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="5" x="119" y="1439.8569">(</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="103" x="124" y="1439.8569">pdb_delinsertion</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="28" x="231" y="1439.8569">from</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="58" x="263" y="1439.8569">pdb-tools</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="5" x="321" y="1439.8569">)</text><rect fill="#000000" filter="url(#fo3qq80btwp2)" height="6" rx="2.5" ry="2.5" style="stroke: #000000; stroke-width: 1.0;" width="626" x="10" y="1484.687"/><path d="M513.25,1539.5386 L513.25,1579.8042 L740.25,1579.8042 L740.25,1549.5386 L730.25,1539.5386 L513.25,1539.5386 " fill="#FBFB77" filter="url(#fo3qq80btwp2)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M730.25,1539.5386 L730.25,1549.5386 L740.25,1549.5386 L730.25,1539.5386 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="206" x="519.25" y="1556.6055">Files are saved after each chunk</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="86" x="519.25" y="1571.7383">is completed.</text><polygon fill="#FEFECE" filter="url(#fo3qq80btwp2)" points="277,1510.687,367,1510.687,379,1522.687,367,1534.687,277,1534.687,265,1522.687,277,1510.687" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="90" x="277" y="1526.4951">destination `-d`</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="21" x="244" y="1520.0928">TAR</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="33" x="379" y="1520.0928">folder</text><rect fill="#FEFECE" filter="url(#fo3qq80btwp2)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="113" x="186.25" y="1544.687"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="93" x="196.25" y="1565.8257">save in TAR file</text><rect fill="#FEFECE" filter="url(#fo3qq80btwp2)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="164" x="319.25" y="1544.687"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="144" x="329.25" y="1565.8257">save PDB/CIFs to folder</text><polygon fill="#FEFECE" filter="url(#fo3qq80btwp2)" points="322,1584.6558,334,1596.6558,322,1608.6558,310,1596.6558,322,1584.6558" style="stroke: #A80036; stroke-width: 1.5;"/><ellipse cx="322" cy="1639.6558" fill="#FFFFFF" filter="url(#fo3qq80btwp2)" rx="11" ry="11" style="stroke: #000000; stroke-width: 1.0;"/><ellipse cx="322" cy="1639.6558" fill="#000000" rx="6" ry="6" style="stroke: #7F7F7F; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="322" x2="322" y1="30" y2="50"/><polygon fill="#A80036" points="318,40,322,50,326,40,322,44" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="322" x2="322" y1="168.0361" y2="191.1846"/><polygon fill="#A80036" points="318,181.1846,322,191.1846,326,181.1846,322,185.1846" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="322" x2="322" y1="83.9688" y2="134.0674"/><polygon fill="#A80036" points="318,124.0674,322,134.0674,326,124.0674,322,128.0674" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="322" x2="322" y1="225.1533" y2="260.3018"/><polygon fill="#A80036" points="318,250.3018,322,260.3018,326,250.3018,322,254.3018" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="322" x2="322" y1="308.2393" y2="328.2393"/><polygon fill="#A80036" points="318,318.2393,322,328.2393,326,318.2393,322,322.2393" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="214.5" x2="214.5" y1="540.3613" y2="560.3613"/><polygon fill="#A80036" points="210.5,550.3613,214.5,560.3613,218.5,550.3613,214.5,554.3613" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="214.5" x2="214.5" y1="594.3301" y2="614.3301"/><polygon fill="#A80036" points="210.5,604.3301,214.5,614.3301,218.5,604.3301,214.5,608.3301" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="214.5" x2="214.5" y1="648.2988" y2="668.2988"/><polygon fill="#A80036" points="210.5,658.2988,214.5,668.2988,218.5,658.2988,214.5,662.2988" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="214.5" x2="214.5" y1="456.1455" y2="506.3926"/><polygon fill="#A80036" points="210.5,496.3926,214.5,506.3926,218.5,496.3926,214.5,500.3926" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="214.5" x2="214.5" y1="795.335" y2="815.335"/><polygon fill="#A80036" points="210.5,805.335,214.5,815.335,218.5,805.335,214.5,809.335" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="214.5" x2="214.5" y1="849.3037" y2="869.3037"/><polygon fill="#A80036" points="210.5,859.3037,214.5,869.3037,218.5,859.3037,214.5,863.3037" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="214.5" x2="214.5" y1="702.2676" y2="761.3662"/><polygon fill="#A80036" points="210.5,751.3662,214.5,761.3662,218.5,751.3662,214.5,755.3662" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="214.5" x2="214.5" y1="1152.647" y2="1181.7446"/><polygon fill="#A80036" points="210.5,1171.7446,214.5,1181.7446,218.5,1171.7446,214.5,1175.7446" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="214.5" x2="214.5" y1="1086.9678" y2="1118.6782"/><polygon fill="#A80036" points="210.5,1108.6782,214.5,1118.6782,218.5,1108.6782,214.5,1112.6782" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="214.5" x2="214.5" y1="1215.7134" y2="1225.7134"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="214.5" x2="385" y1="1225.7134" y2="1225.7134"/><polygon fill="#A80036" points="381,1161.7446,385,1151.7446,389,1161.7446,385,1157.7446" style="stroke: #A80036; stroke-width: 1.5;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="385" x2="385" y1="1074.9678" y2="1225.7134"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="385" x2="269" y1="1074.9678" y2="1074.9678"/><polygon fill="#A80036" points="279,1070.9678,269,1074.9678,279,1078.9678,275,1074.9678" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="160" x2="44" y1="1074.9678" y2="1074.9678"/><polygon fill="#A80036" points="40,1147.7446,44,1157.7446,48,1147.7446,44,1151.7446" style="stroke: #A80036; stroke-width: 1.5;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="44" x2="44" y1="1074.9678" y2="1237.7134"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="44" x2="214.5" y1="1237.7134" y2="1237.7134"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="214.5" x2="214.5" y1="1237.7134" y2="1257.7134"/><polygon fill="#A80036" points="210.5,1247.7134,214.5,1257.7134,218.5,1247.7134,214.5,1251.7134" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="214.5" x2="214.5" y1="1032.2529" y2="1062.9678"/><polygon fill="#A80036" points="210.5,1052.9678,214.5,1062.9678,218.5,1052.9678,214.5,1056.9678" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="214.5" x2="214.5" y1="903.2725" y2="998.2842"/><polygon fill="#A80036" points="210.5,988.2842,214.5,998.2842,218.5,988.2842,214.5,992.2842" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="214.5" x2="214.5" y1="1384.7495" y2="1404.7495"/><polygon fill="#A80036" points="210.5,1394.7495,214.5,1404.7495,218.5,1394.7495,214.5,1398.7495" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="214.5" x2="214.5" y1="1291.6821" y2="1350.7808"/><polygon fill="#A80036" points="210.5,1340.7808,214.5,1350.7808,218.5,1340.7808,214.5,1344.7808" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="214.5" x2="214.5" y1="402.1768" y2="422.1768"/><polygon fill="#A80036" points="210.5,412.1768,214.5,422.1768,218.5,412.1768,214.5,416.1768" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="214.5" x2="214.5" y1="1452.687" y2="1484.687"/><polygon fill="#A80036" points="210.5,1474.687,214.5,1484.687,218.5,1474.687,214.5,1478.687" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="322" x2="322" y1="376.1768" y2="396.1768"/><polygon fill="#A80036" points="318,386.1768,322,396.1768,326,386.1768,322,390.1768" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="265" x2="242.75" y1="1522.687" y2="1522.687"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="242.75" x2="242.75" y1="1522.687" y2="1544.687"/><polygon fill="#A80036" points="238.75,1534.687,242.75,1544.687,246.75,1534.687,242.75,1538.687" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="379" x2="401.25" y1="1522.687" y2="1522.687"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="401.25" x2="401.25" y1="1522.687" y2="1544.687"/><polygon fill="#A80036" points="397.25,1534.687,401.25,1544.687,405.25,1534.687,401.25,1538.687" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="242.75" x2="242.75" y1="1578.6558" y2="1596.6558"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="242.75" x2="310" y1="1596.6558" y2="1596.6558"/><polygon fill="#A80036" points="300,1592.6558,310,1596.6558,300,1600.6558,304,1596.6558" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="401.25" x2="401.25" y1="1578.6558" y2="1596.6558"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="401.25" x2="334" y1="1596.6558" y2="1596.6558"/><polygon fill="#A80036" points="344,1592.6558,334,1596.6558,344,1600.6558,340,1596.6558" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="322" x2="322" y1="1490.687" y2="1510.687"/><polygon fill="#A80036" points="318,1500.687,322,1510.687,326,1500.687,322,1504.687" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="322" x2="322" y1="1608.6558" y2="1628.6558"/><polygon fill="#A80036" points="318,1618.6558,322,1628.6558,326,1618.6558,322,1622.6558" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[3de956642ef5804961c60c9c45af5f95]
@startuml

start

:idpconfgen //pdbdl//;

partition #LIGHTGREY Examples {
    #WHITE:$ idpconfgen pdbdl culled.list -d folder -u -n;
    note right
        where //culled.list// is a list containing PDBID[CHAIN] codes,
        and //folder// is a destination folder that may not exist.
    end note
    #WHITE:$ idpconfgen pdbdl 12AS_A 4YBB_B culled.list -d pdbs.tar -u -n -chunks 5000;
    note right
        where //pdbs.tar// is a destination
        tar file.
    end note
    }

:Compares destination folder/file,
downloads only missing entries;

:filters out PDBID:CHAIN codes
known to be conflictive;
note right
    1MH1_A
end note

fork

:downloads PDB or mmCIF;
note right
    Attempts to download PDB,
    if unavailable, attempts CIF.
end note

partition #e6ffe6 "filtering **in**" {
    :converts PDB and mmCIF to the same internal format;
    :select MODEL 1 (if multiple MODELS);
    :select desired CHAIN;
    note right
        details later
    end note
    :keep altLoc `A` or None;
}

partition #ffe6e6 "filter out" {
    :non- N, C, CA, O, S, Se, H, D;
    :non- ribonucleiotides;
    :non- ligand/solvent (>1500);

}

partition "probing chains" {
    :attempt the selected chain;
    note right
        However, Dunbrack PISCES culled list
        provides all chains in UPPER case, this
        many times conflicts with mmCIF format.
    end note
    while (chain selection) is (empty selection)
        :probe another UPPER/LOWER case combination;
        :Example: AA, Aa, aA, aa.;
    endwhile (meaningful selection)
    :continue;
}

partition "additional parsing" {
    :renumber atoms for saved chains;
    :delete insertion codes
        (//pdb_delinsertion// from //pdb-tools//);
}

end fork
note right
    This block is performed for each
    PDB file. In multiprocessing mode,
    each core pick a PDB code and run the whole
    block, once it is finished another PDB code
    is picked.
end note

if (destination `-d`) then (TAR)
    :save in TAR file;
else (folder)
    :save PDB/CIFs to folder;
endif
note right
    Files are saved after each chunk
    is completed.
end note

stop

@enduml

PlantUML version 1.2020.05(Thu Mar 19 17:17:32 EDT 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.7+10-post-Ubuntu-2ubuntu218.04
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>